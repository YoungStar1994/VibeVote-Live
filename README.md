# 瑜伽普拉提 2026 年会盛典 - 实时投票系统

这是一个专为瑜伽/普拉提健身房年会设计的实时互动投票系统。观众通过手机微信扫码即可参与投票，节目票数以炫酷的 3D 柱状图形式在大屏幕上实时更新，并伴随礼花动效，极大地提升了年会现场的参与感与活跃度。

![Live Demo Preview](https://via.placeholder.com/800x450.png?text=Yoga+Pilates+Voting+System+2026) <!-- 占位图，建议替换为实际截图 -->

## ✨ 核心特性

- **视觉效果**: 尊贵深色背景配合莫兰迪色系 3D 柱状图，支持平滑排名切换动画。
- **实时同步**: 基于 WebSocket (Socket.io) 实现亚秒级数据同步。
- **管理后台**: `/admin` 页面支持管理人员实时增删改节目、手动干预票数及一键清空记录。
- **安全防刷**: 结合 IP 地址 + 浏览器指纹 (Fingerprint) + UserAgent 的多维校验，有效防止恶意刷票。
- **移动端适配**: 玻璃拟态 UI 设计，完美适配手机扫码后的浏览体验。
- **极致轻量**: 无需重型数据库，后端采用高效内存存储，即插即用。

## 🛠️ 技术栈

*   **前端 (Client)**: React 19, Vite 6, Socket.io-client, Lucide-React (图标), Canvas-Confetti (动效)
*   **后端 (Server)**: Node.js, Express, Socket.io
*   **样式 (CSS)**: Vanilla CSS (Flexbox/Grid & 3D CSS Transitions)

## 🚀 快速启动

### 方案 A：一键启动 (推荐)
如果您在 Mac 或 Linux 环境下，直接运行根目录的脚本即可：

```bash
chmod +x start.sh  # 仅需运行一次
./start.sh
```
该脚本会自动检查并安装依赖，并同时启动前后端服务。按下 `Ctrl+C` 即可同步停止所有进程。

### 方案 B：手动分步启动
前提条件：已安装 [Node.js](https://nodejs.org/)。

#### 1. 启动后端服务 (Port: 3001)
```bash
cd server
npm install
npm run dev
```

#### 2. 启动前端项目 (Port: 5173)
```bash
cd client
npm install
npm run dev
```

启动完成后，您的浏览器会自动打开：
- **大屏幕展示**: [http://localhost:5173/](http://localhost:5173/)
- **观众手机端**: [http://localhost:5173/vote](http://localhost:5173/vote)
- **管理后台**: [http://localhost:5173/admin](http://localhost:5173/admin)

## 📖 使用指南

### 管理后台 (`/admin`)
1. **录入节目**: 在年会开始前，通过“新增节目”按钮录入所有表演节目。
2. **测试清零**: 正式投票前，点击“重置所有投票”按钮。手机端观众会自动收到清空缓存的指令。

### 大屏幕展示 (`/`)
1. **投射屏幕**: 建议将此页面全屏展示到年会现场的 LED 大屏或投影仪上。
2. **氛围增强**: 每当观众投下一票，不仅柱状图高度会变化，屏幕还会触发礼花特效。

### 观众投票 (`/vote`)
1. **扫码参与**: 生成二维码关联至 `/vote` 路由，打印在签到板或投影在大屏四周。
2. **单人单票**: 系统自带防刷逻辑，默认每个设备和用户仅能投出一票。

## 🔒 防刷票机制说明

为了防止现场有人多次刷新页面刷票，本项目实现了以下逻辑：
1. **浏览器标识**: 在 `localStorage` 记录投票状态。
2. **指纹校验**: 采集客户端浏览器的硬件特征（UA、分辨率、时区等）生成唯一 Hash。
3. **服务端校验**: 后端对 `IP + Fingerprint` 组成的唯一 Key 进行判定，并在管理员发起重置前拒绝重复请求。

## 🚢 部署建议

- **云服务器**: 部署在阿里云/腾讯云（CentOS/Ubuntu）。
- **防火墙**: 确保 3001 和 5173 端口对公网开放（或使用 Nginx 进行反向代理）。
- **局域网**: 若现场网络较差，可直接在现场一台高性能笔记本上运行，所有移动端连接同一 Wi-Fi，通过笔记本局域网 IP 进行访问。

---

祝您的 2026 年会圆满成功！Namaste. 🧘‍♀️🧘‍♂️
